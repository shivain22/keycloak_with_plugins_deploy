# Copy this file to `.env` (same directory) before running `docker compose up`.
#
# Keycloak image
KEYCLOAK_IMAGE=quay.io/keycloak/keycloak
KEYCLOAK_VERSION=26.4.7

# Keycloak admin user (development only)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# Host port to expose Keycloak on
KEYCLOAK_HTTP_PORT=8080

# Postgres image
POSTGRES_IMAGE=postgres
POSTGRES_VERSION=16

# Postgres port (exposed on host)
POSTGRES_PORT=5432

# Database settings used by both Postgres and Keycloak
KC_DB_NAME=keycloak
KC_DB_USERNAME=keycloak
KC_DB_PASSWORD=keycloak

# Proxy/Reverse Proxy Configuration (required when behind HTTPS reverse proxy)
# Set KC_PROXY to 'xforwarded' (for nginx, cloudflare, etc.) or 'forwarded' (for standard forwarded headers)
# Set KC_HOSTNAME to your public domain (e.g., rmsauth.atparui.com)
# Set KC_HOSTNAME_STRICT_HTTPS to 'true' to enforce HTTPS-only URLs
KC_PROXY=xforwarded
KC_HOSTNAME=
KC_HOSTNAME_STRICT_HTTPS=false

# Artifact builder (runs first, outputs JARs into ./providers which is mounted into Keycloak)
PHONE_PROVIDER_REPO_URL=https://github.com/shivain22/keycloak-phone-provider.git
PHONE_PROVIDER_BRANCH=master
THEME_REPO_URL=https://github.com/atpar-org/rms-auth-theme-plugin.git
THEME_BRANCH=main
THEME_JAR_NAME=keycloak-theme-for-kc-26.2-and-above.jar

# SMS Provider Configuration
SMS_PROVIDER=msg91
SMS_TOKEN_EXPIRES=60
SMS_SOURCE_HOUR_MAX=10
SMS_TARGET_HOUR_MAX=3

# Phone Provider Configuration (applies to realm "testrealm")
DUPLICATE_PHONE=false
PHONE_REGEX=^\\+?\\d+$
VALID_PHONE=true
CANONICALIZE_PHONE=E164
PHONE_DEFAULT_REGION=IN
PHONE_COMPATIBLE=false
OTP_EXPIRES=3600

# MSG91 Configuration (do NOT commit real keys)
MSG91_URL=https://control.msg91.com/api/v5/flow
MSG91_AUTH_KEY=CHANGE_ME
MSG91_TEMPLATE_ID=CHANGE_ME


