# Copy this file to `.env` (same directory) before running `docker compose up`.
#
# Keycloak image
KEYCLOAK_IMAGE=quay.io/keycloak/keycloak
KEYCLOAK_VERSION=26.4.7

# Keycloak admin user (development only)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# Host port to expose Keycloak on
KEYCLOAK_HTTP_PORT=8080

# Postgres image
POSTGRES_IMAGE=postgres
POSTGRES_VERSION=16

# Database settings used by both Postgres and Keycloak
KC_DB_NAME=keycloak
KC_DB_USERNAME=keycloak
KC_DB_PASSWORD=keycloak

# Artifact builder (runs first, outputs JARs into ./providers which is mounted into Keycloak)
PHONE_PROVIDER_REPO_URL=https://github.com/shivain22/keycloak-phone-provider.git
PHONE_PROVIDER_BRANCH=master
THEME_REPO_URL=https://github.com/atpar-org/rms-auth-theme-plugin.git
THEME_BRANCH=main
THEME_JAR_NAME=keycloak-theme-for-kc-26.2-and-above.jar

# Keycloak phone provider SPI config (matches your kc.bat flags)
SPI_PHONE_DEFAULT_SERVICE=msg91
SPI_PHONE_DEFAULT_TOKEN_EXPIRES_IN=60
SPI_PHONE_DEFAULT_SOURCE_HOUR_MAXIMUM=10
SPI_PHONE_DEFAULT_TARGET_HOUR_MAXIMUM=3
SPI_PHONE_DEFAULT_TESTREALM_DUPLICATE_PHONE=false
SPI_PHONE_DEFAULT_TESTREALM_DEFAULT_NUMBER_REGEX=^\\+?\\d+$
SPI_PHONE_DEFAULT_TESTREALM_VALID_PHONE=true
SPI_PHONE_DEFAULT_TESTREALM_CANONICALIZE_PHONE_NUMBERS=E164
SPI_PHONE_DEFAULT_TESTREALM_PHONE_DEFAULT_REGION=IN
SPI_PHONE_DEFAULT_TESTREALM_COMPATIBLE=false
SPI_PHONE_DEFAULT_TESTREALM_OTP_EXPIRES=3600


